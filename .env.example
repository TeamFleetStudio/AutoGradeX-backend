# AutoGradeX Backend Environment Configuration
# Copy this file to .env and fill in the values

# ===========================================
# Database Configuration
# ===========================================
DATABASE_URL=postgres://username:password@localhost:5432/autogradex

# ===========================================
# Server Configuration
# ===========================================
PORT=3001
NODE_ENV=development
LOG_LEVEL=info

# ===========================================
# Security & Authentication
# ===========================================
# JWT Secret - CHANGE THIS IN PRODUCTION!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production

# CORS - Allowed origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:3000

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# ===========================================
# OpenAI Configuration
# ===========================================
# Get your API key from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ===========================================
# File Upload Configuration
# ===========================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# ===========================================
# Email Configuration (Optional)
# ===========================================
# For grade notifications and password reset
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
EMAIL_FROM=AutoGradeX <noreply@autogradex.com>

# ===========================================
# OAuth Configuration (Optional)
# ===========================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
# IMPORTANT: This MUST match the frontend callback URL (where Google redirects after login)
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google-callback


# ===========================================
# Caching Configuration (Optional)
# ===========================================
# Redis URL (for production - if not set, uses in-memory cache)
# REDIS_URL=redis://localhost:6379

# Cache TTL settings (in seconds)
CACHE_TTL_RUBRICS=3600
CACHE_TTL_COURSES=1800
CACHE_TTL_GRADES=300


# Enable detailed performance logging
ENABLE_PERFORMANCE_LOGGING=true

# Alert thresholds
ALERT_ERROR_RATE_PERCENT=1
ALERT_LATENCY_MS=5000

